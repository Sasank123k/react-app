import org.bson.Document;
import org.springframework.data.annotation.Id;
import org.springframework.data.mongodb.core.mapping.Document as MongoDocument;

@MongoDocument(collection = "jilMetadata")
public class JilMetadata {

    @Id
    private String id;

    private String document;

    // Store as private to prevent direct access
    private Document metaData;

    public JilMetadata() {
    }

    public JilMetadata(String document, Document metaData) {
        this.document = document;
        // Defensive copy
        this.metaData = metaData == null ? null : Document.parse(metaData.toJson());
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getDocument() {
        return document;
    }

    public void setDocument(String document) {
        this.document = document;
    }

    public Document getMetaData() {
        // Defensive copy
        return metaData == null ? null : Document.parse(metaData.toJson());
    }

    public void setMetaData(Document metaData) {
        // Defensive copy
        this.metaData = metaData == null ? null : Document.parse(metaData.toJson());
    }
}
