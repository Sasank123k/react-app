{
  "_id": {
    "$oid": "67d65403aae69e7b503c8218"
  },
  "document": {
    "application": {
      "type": "object",
      "required": true,
      "properties": {
        "isParallelProcessing": {
          "type": "string",
          "required": true,
          "default": "N", // MODIFIED: Aligned with backend
          "enum": ["Y", "N"]
        },
        "jobs": {
          "type": "object",
          "required": true,
          "properties": {
            "job": {
              "type": "object",
              "required": true,
              "properties": {
                "app": {
                  "type": "string",
                  "required": false // Backend provides this via ApplicationAuthorizer logic
                },
                "appRemedyId": {
                  "type": "string",
                  "required": false
                },
                "sorRemedyId": {
                  "type": "string",
                  "required": false
                },
                "queryGroup": {
                  "type": "string",
                  "required": false
                },
                "zone": {
                  "type": "string",
                  "required": false
                },
                "sor": {
                  "type": "string",
                  "required": false
                },
                "jobId": {
                  "type": "string",
                  "required": false // Backend sets "1"
                },
                "jobName": {
                  "type": "string",
                  "required": false // Backend provides resolvedJobName
                },
                "isJobEnabled": {
                  "type": "string",
                  "required": false, // Backend sets "Y"
                  "default": "Y",
                  "enum": ["Y", "N"]
                },
                "jobDescription": {
                  "type": "string",
                  "required": false // Backend provides dynamic description
                },
                "Email": {
                  "type": "object",
                  "required": true,
                  "properties": {
                    "fromAddress": {
                      "type": "string",
                      "required": false,
                      "default": "${EMAIL_TO_LIST}" // Consistent with backend
                    },
                    "toAddress": {
                      "type": "string",
                      "required": false,
                      "default": "${EMAIL_CC_LIST}" // Consistent with backend
                    },
                    "subject": {
                      "type": "string",
                      "required": false // Backend provides dynamic subject
                    },
                    "isPriorityAlert": {
                      "type": "string",
                      "required": false,
                      "default": "Y", // Consistent with backend
                      "enum": ["Y", "N"]
                    }
                  }
                },
                "ingestions": {
                  "type": "object",
                  "required": false,
                  "properties": {
                    "ingestion": {
                      "type": "array",
                      "required": false,
                      "items": {
                        "type": "object",
                        "required": false,
                        "properties": {
                          "dimcChecks": {
                            "type": "object",
                            "required": true, // If ingestions object & dimcChecks key is present
                            "properties": {
                              "isDimcChecksEnabled": { // MODIFIED: Aligned with backend behavior
                                "type": "string",
                                "default": "Y", // Backend sets "Y" if dimcChecks object included
                                "enum": ["Y","N"],
                                "required": true
                               },
                              "dimcCheck": {
                                "type": "array",
                                "required": true,
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "dimcCheckname": {
                                      "type": "string",
                                      "required": true,
                                      "enum": [ // MODIFIED: Added missing check names
                                        "missingDbObjectCheck",
                                        "emptySourceCheck",
                                        "deliveryCheck",
                                        "dataVolumeConsistencyCheck",
                                        "missingFileCheck",
                                        "duplicateFileLoadChecks",
                                        "dataVolumeCompletenessCheck",
                                        "fileDateCheck",
                                        "businessDateCheck"
                                      ]
                                    },
                                    "isDimcCheckEnabled": {
                                      "type": "string",
                                      "required": true,
                                      "default": "Y", // Or placeholder if individual checks use them
                                      "enum": ["Y", "N"]
                                    },
                                    "isFailJobOnError": {
                                      "type": "string",
                                      "required": true,
                                      "default": "Y", // Or placeholder
                                      "enum": ["Y", "N"]
                                    },
                                    "SLA": {
                                      "type": "string",
                                      "required": false
                                    },
                                    "upperThreshold": {
                                      "type": "string",
                                      "required": false
                                    },
                                    "lowerThreshold": {
                                      "type": "string",
                                      "required": false
                                    },
                                    "numPastDays": { // MODIFIED: Typo corrected from numsPastDays
                                      "type": "string",
                                      "required": false
                                    },
                                    // ADDED: Specific parameters for certain DIMC checks, with defaults as placeholders
                                    "controlFileRowFilterByIndex": {
                                        "type": "string",
                                        "required": false,
                                        "default": "${DVCC_CTL_FILE_ROW_FILTER_SPEC}" // Example for DVCC, can be specific
                                    },
                                    "controlFileFieldValueByIndex": {
                                        "type": "string",
                                        "required": false,
                                        "default": "${DVCC_CTL_FILE_FIELD_VALUE_SPEC}" // Example for DVCC
                                    },
                                    "fileDateFromFileNamePattern": {
                                        "type": "string",
                                        "required": false,
                                        "default": "${FDC_FILENAME_PATTERN}"
                                    },
                                    "fileDateFromFileNameFormat": {
                                        "type": "string",
                                        "required": false,
                                        "default": "${FDC_FILENAME_DATE_FORMAT}"
                                    },
                                    "businessDateFromFileNamePattern": {
                                        "type": "string",
                                        "required": false,
                                        "default": "${BDC_FILENAME_PATTERN}"
                                    },
                                    "businessDateFromFileNameFormat": {
                                        "type": "string",
                                        "required": false,
                                        "default": "${BDC_FILENAME_DATE_FORMAT}"
                                    },
                                    "upperThresholdInDays": { // Specific to businessDateCheck
                                        "type": "string",
                                        "required": false,
                                        "default": "${BDC_UPPER_THRESHOLD_DAYS}"
                                    },
                                    "lowerThresholdInDays": { // Specific to businessDateCheck
                                        "type": "string",
                                        "required": false,
                                        "default": "${BDC_LOWER_THRESHOLD_DAYS}"
                                    }
                                    // Note: More specific placeholder defaults for isDimcCheckEnabled & isFailJobOnError
                                    // could be added if they vary per check type and are placeholder driven,
                                    // e.g. default: "${CHECK_ENABLED_PLACEHOLDER}"
                                  }
                                }
                              }
                            }
                          },
                          "ingestionId": {
                            "type": "string",
                            "required": false // Backend sets "1"
                          },
                          "ingestionDesc": {
                            "type": "string",
                            "required": false // Backend provides dynamic description
                          },
                          "isIngestionEnabled": {
                            "type": "string",
                            "required": true, // Backend sets "Y"
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "sourceType": {
                            "type": "string",
                            "required": false // Backend provides this
                          },
                          "ConnectionHeader": {
                            "type": "string",
                            "required": false // Backend provides this for DB sources
                          },
                          "sourceConnectionHeader": { // This was in original meta, backend uses "ConnectionHeader"
                            "type": "string",
                            "required": false
                          },
                          "sourceName": {
                            "type": "string",
                            "required": false // Backend provides for Oracle
                          },
                          "sourcePartition": {
                            "type": "string",
                            "required": false
                          },
                          "sourceColumnList": {
                            "type": "string",
                            "required": false
                          },
                          "whereCondition": {
                            "type": "string",
                            "required": false
                          },
                          "sourceSQLQuery": {
                            "type": "string",
                            "required": false,
                            "format": "textarea" // Backend provides for DB sources
                          },
                          "dataFilePath": {
                            "type": "string",
                            "required": false // Backend provides for File sources
                          },
                           "schemaFilePath": { // ADDED: As backend generates it for file sources
                            "type": "string",
                            "required": false
                          },
                          "stagingFilePath": {
                            "type": "string",
                            "required": false // Backend provides for File sources
                          },
                           "delimiter": { // ADDED: As backend generates it for pipe/comma files
                            "type": "string",
                            "required": false
                          },
                           "isHeaderEnabled": { // ADDED: As backend generates it for file sources
                            "type": "string",
                            "required": false,
                            "enum": ["Y","N"]
                          },
                          "dataFrameName": {
                            "type": "string",
                            "required": false // Backend provides this
                          },
                          "targetName": {
                            "type": "string",
                            "required": false
                          },
                          "targetType": { // For Teradata to Hive in backend
                            "type": "string",
                            "required": false,
                            "default": "parquet",
                            "enum": ["parquet"]
                          },
                          "isCreateTargetTable": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "targetTablePath": { // This is more for flows in backend
                            "type": "string",
                            "required": false
                          },
                          // targetPartition was here, removed as per backend.
                          "isParallelProcessing": {
                            "type": "string",
                            "required": false,
                            "default": "N", // Original default
                            "enum": ["Y", "N"]
                          },
                          "splitColumn": {
                            "type": "string",
                            "required": false
                          },
                          "upperBound": {
                            "type": "string",
                            "required": false
                          },
                          "lowerBound": {
                            "type": "string",
                            "required": false
                          },
                          "numPartitions": {
                            "type": "string",
                            "required": false
                          },
                          "isRowCountDisabled": {
                            "type": "string",
                            "required": false,
                            // MODIFIED: Removed default: "Y", as backend is specific ("N" or omits)
                            "enum": ["Y", "N"]
                          },
                          "additionalReadConfigs": {
                            "type": "object",
                            "required": false, // Backend provides for File types, different content for Mongo
                            "properties": {
                              "partitioner": { // Specific to Mongo in original metadata
                                "type": "string",
                                "required": false,
                                "default": "MongoSplitVectorPartitioner"
                              },
                              "quote": { // ADDED: for file types from backend
                                "type": "string",
                                "required": false,
                                "default": "\""
                              },
                              "escape": { // ADDED: for file types from backend
                                "type": "string",
                                "required": false,
                                "default": "\""
                              }
                            }
                          },
                          "controlFile": {
                            "type": "object",
                            "required": false,
                            "properties": {
                              "path": {
                                "type": "string",
                                "required": false
                              },
                              "format": {
                                "type": "string",
                                "required": false
                              },
                              "delimiter": {
                                "type": "string",
                                "required": false
                              }
                            }
                          },
                          "sendEmail": {
                            "type": "string",
                            "required": false
                          },
                          "isCacheEnabled": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "isOverWritePartition": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "abortIfDuplicate": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "abortIfEmpty": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "isRunEMHReport": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          }
                        }
                      }
                    }
                  }
                },
                "flows": { // Note: Backend flow generation is much simpler than this metadata section
                  "type": "object",
                  "required": false,
                  "properties": {
                    "flow": {
                      "type": "array",
                      "required": false,
                      "items": {
                        "type": "object",
                        "required": false,
                        "properties": {
                          "flowId": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "flowDesc": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "isFlowEnabled": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // Consistent with backend
                            "enum": ["Y", "N"]
                          },
                          "seqDependencies": {
                            "type": "string",
                            "required": false
                          },
                          "readQueryFromPath": {
                            "type": "string",
                            "required": false
                          },
                          "queryPath": {
                            "type": "string",
                            "required": false
                          },
                          "query": {
                            "type": "string",
                            "required": false,
                            "format": "textarea" // Backend sets this
                          },
                          "registerName": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "saveOutput": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // Consistent with backend
                            "enum": ["Y", "N"]
                          },
                          "flowDataBaseName": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "storageName": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "targetTablePath": {
                            "type": "string",
                            "required": false // Backend sets this for file source to Hive
                          },
                          "hivePartitionColumn": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "isCreateFlowTargetTable": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "isCreateHiveView ": { // Space in key name - potential typo to fix if intended as isCreateHiveView
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "hiveViewSql": {
                            "type": "string",
                            "required": false,
                            "format": "textarea"
                          },
                          "hiveViewName": {
                            "type": "string",
                            "required": false
                          },
                          "hiveViewColumns": {
                            "type": "string",
                            "required": false
                          },
                          "hiveViewCondition": {
                            "type": "string",
                            "required": false
                          },
                          "isSaveToMongoDB": {
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "mongoDBName": {
                            "type": "string",
                            "required": false
                          },
                          "mongoCollectionName": {
                            "type": "string",
                            "required": false
                          },
                          "mode": {
                            "type": "string",
                            "required": false
                          },
                          "isCreateMongoView": {
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "mongoViewName": {
                            "type": "string",
                            "required": false
                          },
                          "mongoViewCondition": {
                            "type": "string",
                            "required": false
                          },
                          "partition": {
                            "type": "string",
                            "required": false
                          },
                          "cleanUpTempView": {
                            "type": "string",
                            "required": false
                          },
                          "externalJarClass": {
                            "type": "string",
                            "required": false
                          },
                          "deviationPercent": {
                            "type": "string",
                            "required": false
                          },
                          "lowerDeviationPercent": {
                            "type": "string",
                            "required": false
                          },
                          "upperDeviationPercent": {
                            "type": "string",
                            "required": false
                          },
                          "abortIfDeviationLimitExceed": {
                            "type": "string",
                            "required": false
                          },
                          "sendEmailIfDeviationLimitExceed": {
                            "type": "string",
                            "required": false
                          },
                          "abortOnDuplicate": {
                            "type": "string",
                            "required": false
                          },
                          "dupKeys": {
                            "type": "string",
                            "required": false
                          },
                          "writeOnlyUnique": {
                            "type": "string",
                            "required": false
                          },
                          "cacheLevel": {
                            "type": "string",
                            "required": false
                          },
                          "repartitionCount": {
                            "type": "string",
                            "required": false
                          },
                          "isHiveViewDisableCount": {
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "additionalWriteConfigs": {
                            "type": "string",
                            "required": false
                          },
                          "isRowCountDisabled": {
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "additionalReadConfigs": { // Already an object in Ingestions
                            "type": "object",       // Should this also be an object here or string?
                            "required": false,
                            "properties": {
                              "partitioner": {
                                "type": "string",
                                "required": false,
                                "default": "MongoSplitVectorPartitioner"
                              }
                            }
                          },
                          "isPrivaceraEnabledTable": {
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "skipIfSourceDataFrameEmpty": {
                            "type": "string",
                            "required": false
                          },
                          "aggColsForCntrlTopic": {
                            "type": "string",
                            "required": false
                          },
                          "isOverWritePartition": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "isCacheEnabled": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // Consistent with backend
                            "enum": ["Y", "N"]
                          },
                          "sendEmail": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "abortIfEmpty": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          }
                        }
                      }
                    }
                  }
                },
                "dataChecks": {
                  "type": "object",
                  "required": true, // If dataChecks section is present
                  "properties": {
                    "acDCDatabase": {
                      "type": "string",
                      "required": true, // Backend sets "${AUDIT_DATABASE}"
                      "default": "${AUDIT_DATABASE}"
                    },
                    "isTrendingEnabled": { // This was removed from backend
                      "type": "string",
                      "required": false,
                      "default": "Y",
                      "enum": ["Y", "N"]
                    },
                    "checks": { // Renamed from "checks" array to "check" array in backend output but schema used "checks"
                                // The backend `buildGenericDataChecksNode` does `dataChecksNode.putArray("check")`
                                // So schema should probably be "check" as array name, or backend needs to change to "checks"
                                // Assuming "check" is the array key name from backend for now for properties below
                      "type": "array",
                      "required": false,
                      "items": {
                        "type": "object",
                        "properties": {
                          "checkId": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "checkName": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "checkDesc": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "isCheckEnabled": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // Consistent with backend
                            "enum": ["Y", "N"]
                          },
                          "isUserSupplyQuery": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // Consistent with backend
                            "enum": ["Y", "N"]
                          },
                          "readSourceQueryFromPath": {
                            "type": "string",
                            "required": false,
                            "default": "N", // MODIFIED: Aligned with backend
                            "enum": ["Y", "N"]
                          },
                          "sourceQuery": {
                            "type": "string",
                            "required": false, // Backend sets this
                            "format": "textarea"
                          },
                          "targetQuery": {
                            "type": "string",
                            "required": false, // Backend sets this
                            "format": "textarea"
                          },
                          "readTargetQueryFromPath": { // MODIFIED: Typo corrected
                            "type": "string",
                            "required": false,
                            "default": "N", // Consistent with backend
                            "enum": ["Y", "N"]
                          },
                          "partition": { // Not in backend CheckDetailConfig
                            "type": "string",
                            "required": false
                          },
                          "controlFilePath": { // Not in backend CheckDetailConfig
                            "type": "string",
                            "required": false
                          },
                          "isHeaderAvailable": { // Not in backend CheckDetailConfig
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "isFailJobOnDataCheckError": {
                            "type": "string",
                            "required": false,
                            "default": "Y", // Consistent with backend (Change #2 made it "Y")
                            "enum": ["Y", "N"]
                          }
                        }
                      }
                    },
                    "prechecks": { // Backend uses "preChecks" (capital C)
                                   // Assuming "preChecks" for consistency with backend output.
                      "type": "object",
                      "required": true, // If preChecks section is present
                      "properties": {
                        "isPreCheckEnabled": {
                          "type": "string",
                          "required": true,
                          "default": "${PRECHECK_ENABLED}", // MODIFIED: Aligned with backend placeholder
                          "enum": ["Y", "N"]
                        },
                        "preCheck": { // Backend uses "preCheck" for the array name
                          "type": "array",
                          "required": true,
                          "default": [ // This default array is illustrative; backend generates it
                            {
                              "preCheckName": "ServiceIDCheck",
                              "isFailJobOnPreCheckError": "${SERVICE_IDCHECK_FAILURE_FLAG}",
                              "isPreCheckEnabled": "${SERVICE_IDCHECK_ENABLED}"
                            }
                            // ... other default precheck items from original metadata
                          ],
                          "items": {
                            "type": "object",
                            "required": false,
                            "properties": {
                              "preCheckName": {
                                "type": "string",
                                "required": true,
                                "enum": [ // These are generated by backend
                                  "ServiceIDCheck", "TargetDataBaseAvailabilityCheck", "TargetTableAvailabilityCheck",
                                  "TargetTablePathWritableCheck", "FlowSeqDependenciesCheck", "SourceDataBaseAvailabilityCheck",
                                  "SourceTableAvailabilityCheck", "SourceTableEmptyCheck", "SourcePathAvailabilityCheck",
                                  "SourcePathEmptyCheck"
                                ]
                              },
                              "isPreCheckEnabled": { // Individual item
                                "type": "string",
                                "required": true,
                                "default": "${PLACEHOLDER_FROM_BACKEND}", // Backend uses specific placeholders
                                "enum": ["Y", "N"]
                              },
                              "isFailJobOnPreCheckError": { // Individual item
                                "type": "string",
                                "required": true,
                                "default": "${PLACEHOLDER_FROM_BACKEND}", // Backend uses specific placeholders
                                "enum": ["Y", "N"]
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "fileExtracts": {
                  "type": "object",
                  "required": false,
                  "properties": {
                    "fileExtract": {
                      "type": "array",
                      "required": false,
                      "items": {
                        "type": "object",
                        "required": false,
                        "properties": {
                          "fileExtractId": {
                            "type": "string",
                            "required": false // Backend sets "1"
                          },
                          "isFileExtractEnabled": {
                            "type": "string",
                            "required": false,
                            "default": "${IS_FILE_EXTRACT_ENABLED}", // MODIFIED: Aligned with backend placeholder
                            "enum": ["Y", "N"]
                          },
                          "fileDescription": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "subjectArea": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "zone": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "system": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "consumer": {
                            "type": "string",
                            "required": false
                          },
                          "fileType": {
                            "type": "string",
                            "required": false, // Backend sets "avro"
                            "enum": ["parquet", "avro", "JSON", "csv"]
                          },
                          "extractQuery": {
                            "type": "string",
                            "required": false, // Backend sets this
                            "format": "textarea"
                          },
                          "databaseName": {
                            "type": "string",
                            "required": false
                          },
                          "tableName": {
                            "type": "string",
                            "required": false
                          },
                          "filename": {
                            "type": "string",
                            "required": false
                          },
                          "fileDelimiter": {
                            "type": "string",
                            "required": false
                          },
                          "isHeaderRequired": {
                            "type": "string",
                            "required": false,
                            "default": "Y",
                            "enum": ["Y", "N"]
                          },
                          "hdfsFilePath": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "quoteAll": {
                            "type": "string",
                            "required": false
                          },
                          "externalFilePath": {
                            "type": "string",
                            "required": false // Backend sets this
                          },
                          "cdmpAdditionalParams": {
                            "type": "object",
                            "required": false, // Backend sets this
                            "properties": {
                              "outputFormat": {
                                "type": "string",
                                "required": false,
                                "default": "avro", // Consistent with backend
                                "enum": ["avro"]
                              },
                              "cdmpFileName": {
                                "type": "string",
                                "required": false // Backend sets this
                              },
                              "cdmpPatternMode": {
                                "type": "string",
                                "required": false,
                                "default": "daily", // Consistent with backend
                                "enum": ["daily", "weekly", "monthly"]
                              },
                              "isCustomPartitionRequired": {
                                "type": "string",
                                "required": false,
                                "default": "true", // Consistent with backend
                                "enum": ["true", "false"]
                              },
                              "desiredPartFileSize": {
                                "type": "string",
                                "required": false // Backend sets this
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "_class": "com.wellsfargo.utcap.model.MetaData"
}
