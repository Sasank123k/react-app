// In BusinessApplicationOnboardingService.java

/**
 * Fetches the list of values for a given configuration name.
 * This version correctly handles a List response from the repository.
 */
public List<String> getConfigurationValues(String name) {
    // 1. Fetch the list from the repository
    List<Configuration> configs = configurationRepository.findByTemplateName(name);

    // 2. Check if the list is empty (this replaces orElseThrow)
    if (configs.isEmpty()) {
        throw new RuntimeException("Configuration not found for templateName: " + name);
    }
    
    // 3. If not empty, get the first item from the list
    Configuration config = configs.get(0);

    String rawJsonString = config.getJson();
    
    if (rawJsonString == null || rawJsonString.trim().isEmpty()) {
        return Collections.emptyList();
    }
    
    // 4. The rest of the parsing logic remains the same
    return Arrays.stream(rawJsonString.split(","))
                 .map(String::trim)
                 .collect(Collectors.toList());
}






Of course. Since you already have the Model and Repository files set up for your existing collection, here are the other backend files you need to update, the dummy data to add, and the steps to test the new API.
## 1. Dummy Content to Add to MongoDB
You need to add two new documents to your existing collection (the one from the screenshot). This data will be fetched to populate your dropdowns.
Document 1: For SOR Types
{
    "templateName": "sorTypes",
    "json": "Internal, External - Vendor, Hybrid, Platform Service"
}

Document 2: For Domain Names
{
    "templateName": "domainNames",
    "json": "Finance & Accounting, Human Resources, Supply Chain & Logistics, Core Technology, Customer Experience"
}

## 2. Updated Backend Files
You only need to add new methods to your existing Service and Controller files.
BusinessApplicationOnboardingService.java (Additions)
Add the new ConfigurationRepository and the method to get and parse the values.
package com.yourpackage.service;

import com.yourpackage.model.Configuration; // Make sure to import your Configuration model
import com.yourpackage.repository.ConfigurationRepository; // Import the new repository

// Other imports...
import java.util.Arrays;
import java.util.Collections;
import java.util.stream.Collectors;

@Service
public class BusinessApplicationOnboardingService {

    // ... (existing @Autowired fields for SorRepository and AppRepository)

    // ðŸ‘‡ Add this new repository
    @Autowired
    private ConfigurationRepository configurationRepository;

    // ... (existing methods like updateAndCreateDetails, etc.)

    // ðŸ‘‡ Add this new method
    /**
     * Fetches the list of values for a given configuration name (e.g., "sorTypes").
     * This version reads a comma-separated string from the 'json' field and parses it.
     */
    public List<String> getConfigurationValues(String name) {
        Configuration config = configurationRepository.findByTemplateName(name)
                .orElseThrow(() -> new RuntimeException("Configuration not found for templateName: " + name));

        String rawJsonString = config.getJson();
        
        if (rawJsonString == null || rawJsonString.trim().isEmpty()) {
            return Collections.emptyList();
        }
        
        // Split the string by commas, trim whitespace from each item, and collect into a List
        return Arrays.stream(rawJsonString.split(","))
                     .map(String::trim)
                     .collect(Collectors.toList());
    }
}

BusinessApplicationOnboardingController.java (Addition)
Add the new GET endpoint to expose the functionality.
package com.yourpackage.controller;

// Other imports...

@RestController
@RequestMapping("/api")
@CrossOrigin(origins = "http://localhost:3000")
public class BusinessApplicationOnboardingController {

    @Autowired
    private BusinessApplicationOnboardingService onboardingService;

    // ... (other existing autowired fields and endpoints)

    // ðŸ‘‡ Add this new endpoint
    /**
     * Generic endpoint to get configuration lists for dropdowns.
     * The {name} in the path must match a 'templateName' in the database.
     */
    @GetMapping("/configurations/{name}")
    public ResponseEntity<List<String>> getConfigurationByName(@PathVariable String name) {
        return ResponseEntity.ok(onboardingService.getConfigurationValues(name));
    }
}

## 3. How to Test the API with Postman
After updating your code and adding the dummy data, you can test the new endpoint.
Test Case 1: Fetching SOR Types
 * Method: GET
 * URL: http://localhost:8080/api/configurations/sorTypes
   (Note: The sorTypes in the URL must exactly match the templateName value from your database.)
Steps:
 * Open a new request in Postman.
 * Set the method to GET.
 * Enter the URL above.
 * Click Send.
âœ… Expected Result:
You should receive a Status: 200 OK and a JSON body that is an array of strings:
[
    "Internal",
    "External - Vendor",
    "Hybrid",
    "Platform Service"
]

Test Case 2: Fetching Domain Names
 * Method: GET
 * URL: http://localhost:8080/api/configurations/domainNames
Steps:
 * Open a new request in Postman.
 * Set the method to GET.
 * Enter the URL above.
 * Click Send.
âœ… Expected Result:
You should receive a Status: 200 OK and a JSON body with the domain names:
[
    "Finance & Accounting",
    "Human Resources",
    "Supply Chain & Logistics",
    "Core Technology",
    "Customer Experience"
]

